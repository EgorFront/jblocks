<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JBlocks Example</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
    <style type="text/css">
        .foo {
            position: relative;
            display: inline-block;
            padding: 4px 40px;
            text-align: center;
            background: lightyellow;
        }
        .foo .button {
            position: absolute;
            top: 4px;
        }
        .foo .button_left {
            left: 0;
        }
        .foo .button_right {
            right: 0;
        }

        .content {
            width: 1000px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>JBlocks</h1>

        <p>Нанофреймворк (~ 100 строк) для организации блоков на странице, построенный на базе jQuery.</p>
        <p>Строится на трех основных принципах:</p>
        <ul>
            <li>опиши поведение своих блоков в декларации</li>
            <li>разметь свои блоки в html с помощью специальных атрибутов</li>
            <li>общайся с блоками через АПИ</li>
        </ul>

        <h2>Пример</h2>
        <p>
            <div class="foo" data-b="counter" data-p='{ "step": 2 }'>
                <button class="button button_right js-inc">+</button>
                <button class="button button_left js-dec">-</button>
                <span class="js-info">0</span>
            </div>
        </p>
        <p>
            <div class="foo" data-b="counter" data-p='{ "step": 1 }'>
                <button class="button button_right js-inc">+</button>
                <button class="button button_left js-dec">-</button>
                <span class="js-info">0</span>
            </div>
        </p>

        <pre><code class="javascript">
$.define('counter', {
    events: {
        'b-inited': 'oninit',
        'click .js-inc': 'onClickPlus',
        'click .js-dec': 'onClickMinus'
    },

    methods: {
        oninit: function() {
            this.$info = this.$node.find('.js-info');
            this.count = 0;
        },

        /**
         * Обработчик клика на плюс
         */
        onClickPlus: function() {
            this.inc();
            this.update();
        },

        /**
         * Обработчик клика на минус
         */
        onClickMinus: function() {
            this.dec();
            this.update();
        },

        /**
         * Увеличить счетчик
         */
        inc: function() {
            this.count += this.params.step;
        },

        /**
         * Уменьшить счетчик
         */
        dec: function() {
            this.count -= this.params.step;
        },

        /**
         * Нарисует новое значение
         */
        update: function() {
            this.$info.text(this.count);
        }
    }
});

// Инициализируем все блоки в документе
$(document).initBlocks();
        </code></pre>

        <a href="https://github.com/vitkarpov/jblocks"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript" src="https://yastatic.net/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="dist/jblocks.js"></script>

    <script type="text/javascript">
        $.define('counter', {
            events: {
                'b-inited': 'oninit',
                'click .js-inc': 'onClickPlus',
                'click .js-dec': 'onClickMinus'
            },

            methods: {
                oninit: function() {
                    this.$info = this.$node.find('.js-info');
                    this.count = 0;
                },

                /**
                 * Обработчик клика на плюс
                 */
                onClickPlus: function() {
                    this.inc();
                    this.update();
                },

                /**
                 * Обработчик клика на минус
                 */
                onClickMinus: function() {
                    this.dec();
                    this.update();
                },

                /**
                 * Увеличить счетчик
                 */
                inc: function() {
                    this.count += this.params.step;
                },

                /**
                 * Уменьшить счетчик
                 */
                dec: function() {
                    this.count -= this.params.step;
                },

                /**
                 * Нарисует новое значение
                 */
                update: function() {
                    this.$info.text(this.count);
                }
            }
        });

        // Инициализируем все блоки в документе
        $(document).initBlocks();
    </script>
    <!-- Yandex.Metrika counter --><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter21389509 = new Ya.Metrika({ id:21389509, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/21389509" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
</body>
</html>
